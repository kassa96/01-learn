<!DOCTYPE html>
<html>
<head>
    <title>Capture d'écran de la vidéo YouTube</title>
    <script src="https://www.youtube.com/iframe_api"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
</head>
<body>
    <div id="player"></div>
    <button id="captureButton">Capture d'écran</button>

    <script>
        // Chargement de l'API YouTube Player
        var player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '360',
                width: '640',
                videoId: 'L7nX61VehTI',
                events: {
                    'onReady': onPlayerReady
                }
            });
        }

        function onPlayerReady(event) {
            // Ajoutez un gestionnaire d'événements au bouton de capture d'écran
            document.getElementById('captureButton').addEventListener('click', function() {
                // Mettez en pause la vidéo pour prendre la capture d'écran
                player.pauseVideo();
                captureScreen();
            });
        }

        function captureScreen() {
    // Utilisez html2canvas pour capturer l'écran
    html2canvas(document.getElementById('player'), {
        logging: true, // Activez les logs pour le débogage
        useCORS: true // Utilisez le mode CORS pour les images externes (nécessaire pour les vidéos YouTube)
    }, function(canvas) {
        // Convertissez le canvas en image PNG
        var screenshot = canvas.toDataURL('image/png');

        // Affichez la capture d'écran dans une balise img ou enregistrez-la
        var imageElement = document.createElement('img');
        imageElement.src = screenshot;
        document.body.appendChild(imageElement);
    });
}

    </script>
</body>
</html>
